CREATE TABLE JURUSAN
(
   KODE_JURUSAN TEXT PRIMARY KEY,
   NAMA_JURUSAN TEXT NOT NULL
);

INSERT INTO JURUSAN
VALUES("001", "TEKNIR NUKLIR");
INSERT INTO JURUSAN
VALUES("002", "TEKNIK GEODESI");
INSERT INTO JURUSAN
VALUES("003", "ARSITEKTUR");
INSERT INTO JURUSAN
VALUES("004", "TEKNIK PENERBANGAN");
INSERT INTO JURUSAN
VALUES("005", "TEKNIK KOMPUTER");

CREATE TABLE MAHASISWA
(
   NIM TEXT PRIMARY KEY,
   NAMA TEXT NOT NULL,
   ALAMAT TEXT NOT NULL,
   KODE_JURUSAN TEXT NOT NULL,
   UMUR INT NOT NULL
);

INSERT INTO MAHASISWA
VALUES("1901", "LIONEL MESSI", "ARGENTINA", "001", 18);
INSERT INTO MAHASISWA
VALUES("1902", "CRISTIANO RONALDO", "PORTUGAL", "002", 17);
INSERT INTO MAHASISWA
VALUES("1903", "KAREEM BENZEMA", "FRANCE", "003", 21);
INSERT INTO MAHASISWA
VALUES("1904", "MESUT OZIL", "GERMANY", "004", 19);
INSERT INTO MAHASISWA
VALUES("1905", "NEYMAR JUNIOR", "BRAZIL", "005", 20);

CREATE TABLE DOSEN
(
   ID_DOSEN TEXT PRIMARY KEY,
   NAMA TEXT NOT NULL
);

INSERT INTO DOSEN
VALUES("801", "PROF DR KHUSNI JAFAR M.ENG");
INSERT INTO DOSEN
VALUES("804", "PROF SURYA SETIAWAN Ph.D");
INSERT INTO DOSEN
VALUES("802", "PROF DR NURUL HIDAYAT M.ARCH");
INSERT INTO DOSEN
VALUES("803", "CAPT. HILMAWAN M.SC");
INSERT INTO DOSEN
VALUES("805", "PROF DR ZIDAN M.SC");


CREATE TABLE MATAKULIAH
(
   ID_MATAKULIAH TEXT PRIMARY KEY,
   NAMA_MATAKULIAH TEXT NOT NULL,
   SKS TEXT NOT NULL
);

INSERT INTO MATAKULIAH
VALUES("501", "KALKULUS", "3");
INSERT INTO MATAKULIAH
VALUES("502", "FISIKA DASAR", "3");
INSERT INTO MATAKULIAH
VALUES("503", "KIMIA", "4");
INSERT INTO MATAKULIAH
VALUES("504", "MEKANIKA", "4");
INSERT INTO MATAKULIAH
VALUES("505", "ALJABAR LINIER", "2");
INSERT INTO MATAKULIAH
VALUES("506", "TERMODINAMIKA", "3");
INSERT INTO MATAKULIAH
VALUES("507", "RADIOLOGI", "4");
INSERT INTO MATAKULIAH
VALUES("508", "DATA MINING", "3");
INSERT INTO MATAKULIAH
VALUES("509", "ROBOTIKA", "2");


CREATE TABLE KONTRAK(
ID_KONTRAK INTEGER PRIMARY KEY AUTOINCREMENT,
NIM TEXT NOT NULL,
ID_DOSEN TEXT NOT NULL,
ID_MATAKULIAH TEXT NOT NULL,
NILAI TEXT NOT NULL
);

INSERT INTO KONTRAK
VALUES(NULL, "1901", "801", "501", "A");
INSERT INTO KONTRAK
VALUES(NULL, "1902", "804", "502", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1903", "802", "503", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1904", "803", "504", "C");
INSERT INTO KONTRAK
VALUES(NULL, "1905", "805", "505", "D");
INSERT INTO KONTRAK
VALUES(NULL, "1904", "805", "506", "E");
INSERT INTO KONTRAK
VALUES(NULL, "1902", "801", "507", "C");
INSERT INTO KONTRAK
VALUES(NULL, "1905", "804", "508", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1905", "804", "509", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1905", "804", "504", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1901", "804", "505", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1901", "804", "507", "B");
INSERT INTO KONTRAK
VALUES(NULL, "1901", "801", "502", "A");


/*1. Tampilkan seluruh data mahasiswa dengan nama jurusan*/
SELECT
   MAHASISWA.NIM, MAHASISWA.NAMA, MAHASISWA.ALAMAT, MAHASISWA.UMUR,
   JURUSAN.NAMA_JURUSAN
FROM MAHASISWA
   INNER JOIN JURUSAN on MAHASISWA.KODE_JURUSAN = JURUSAN.KODE_JURUSAN;


/* <<< HASILNYA >>>
---------------------
sqlite> SELECT
   ...> MAHASISWA.NIM,MAHASISWA.NAMA,MAHASISWA.ALAMAT,MAHASISWA.UMUR,
   ...> JURUSAN.NAMA_JURUSAN
   ...> FROM MAHASISWA
   ...> INNER JOIN JURUSAN on MAHASISWA.KODE_JURUSAN = JURUSAN.KODE_JURUSAN;
NIM         NAMA          ALAMAT      UMUR        NAMA_JURUSAN 
----------  ------------  ----------  ----------  -------------
1901        LIONEL MESSI  ARGENTINA   18          TEKNIR NUKLIR
1902        CRISTIANO RO  PORTUGAL    17          TEKNIK GEODES
1903        KAREEM BENZE  FRANCE      21          ARSITEKTUR   
1904        MESUT OZIL    GERMANY     19          TEKNIK PENERB
1905        NEYMAR JUNIO  BRAZIL      20          TEKNIK KOMPUT

/* 2. Tampilkan Mahasiswa yang memiliki umur dibawah 20 tahun */

SELECT NIM, NAMA, ALAMAT, UMUR FROM MAHASISWA 
WHERE UMUR < 20 ORDER BY UMUR ASC;

/* <<< HASILNYA >>>
----------------------
sqlite> SELECT NIM, NAMA, ALAMAT, UMUR FROM MAHASISWA 
   ...> WHERE UMUR < 20 ORDER BY UMUR ASC;
NIM         NAMA               ALAMAT      UMUR      
----------  -----------------  ----------  ----------
1902        CRISTIANO RONALDO  PORTUGAL    17        
1901        LIONEL MESSI       ARGENTINA   18        
1904        MESUT OZIL         GERMANY     19

/* 3. Tampilkan Mahasiswa yang memiliki NILAI 'B' ke atas */

SELECT MAHASISWA.NIM, MAHASISWA.NAMA, KONTRAK.NILAI FROM KONTRAK, MAHASISWA
WHERE MAHASISWA.NIM = KONTRAK.NIM  AND KONTRAK.NILAI <= 'B';

/* <<< HASILNYA >>>
----------------------
sqlite> SELECT MAHASISWA.NIM, MAHASISWA.NAMA, KONTRAK.NILAI FROM KONTRAK, MAHASISWA WHERE MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.NILAI <= 'B';
NIM         NAMA          NILAI     
----------  ------------  ----------
1901        LIONEL MESSI  A         
1902        CRISTIANO RO  B         
1903        KAREEM BENZE  B         
1905        NEYMAR JUNIO  B         
1905        NEYMAR JUNIO  B         
sqlite> 

/* 4. Tampilkan Mahasiswa yang memiliki jumlah sks lebih dari 10 */

SELECT MAHASISWA.NIM, MAHASISWA.NAMA, SUM(MATAKULIAH.SKS) FROM MATAKULIAH, MAHASISWA, KONTRAK WHERE  MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_MATAKULIAH = MATAKULIAH.ID_MATAKULIAH GROUP BY MAHASISWA.NIM HAVING SUM(MATAKULIAH.SKS) > 10;
 
/* <<< HASILNYA >>>
----------------------
sqlite> SELECT MAHASISWA.NIM, MAHASISWA.NAMA, SUM(MATAKULIAH.SKS) FROM MATAKULIAH, MAHASISWA, KONTRAK WHERE  MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_MATAKULIAH = MATAKULIAH.ID_MATAKULIAH GROUP BY MAHASISWA.NIM HAVING SUM(MATAKULIAH.SKS) > 10;
NIM         NAMA          SUM(MATAKULIAH.SKS)
----------  ------------  -------------------
1901        LIONEL MESSI  12                 
1905        NEYMAR JUNIO  11    

/* 5. Tampilkan Mahasiswa yang mengontrak matakuliah "data mining" */

SELECT MAHASISWA.NIM, MAHASISWA.NAMA, MATAKULIAH.NAMA_MATAKULIAH FROM MATAKULIAH, MAHASISWA, KONTRAK WHERE MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_MATAKULIAH = MATAKULIAH.ID_MATAKULIAH AND NAMA_MATAKULIAH = 'DATA MINING';

/* <<< HASILNYA >>>
----------------------
sqlite> SELECT MAHASISWA.NIM, MAHASISWA.NAMA, MATAKULIAH.NAMA_MATAKULIAH FROM MATAKULIAH, MAHASISWA, KONTRAK WHERE MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_MATAKULIAH = MATAKULIAH.ID_MATAKULIAH AND NAMA_MATAKULIAH = 'DATA MINING';
NIM         NAMA           NAMA_MATAKULIAH
----------  -------------  ---------------
1905        NEYMAR JUNIOR  DATA MINING    
sqlite> 

/* 6. Tampilkan jumlah mahasiswa untuk setiap dosen */

SELECT NAMA_DOSEN, COUNT(NAMA_MAHASISWA) AS JUMLAH_MAHASISWA FROM (SELECT DISTINCT DOSEN.NAMA AS NAMA_DOSEN, MAHASISWA.NAMA AS NAMA_MAHASISWA FROM DOSEN, MAHASISWA, KONTRAK WHERE MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_DOSEN = DOSEN.ID_DOSEN) GROUP BY NAMA_DOSEN;

/* <<< HASILNYA >>>
----------------------
sqlite> SELECT NAMA_DOSEN, COUNT(NAMA_MAHASISWA) AS JUMLAH_MAHASISWA FROM (SELECT DISTINCT DOSEN.NAMA AS NAMA_DOSEN, MAHASISWA.NAMA AS NAMA_MAHASISWA FROM DOSEN, MAHASISWA, KONTRAK WHERE MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_DOSEN = DOSEN.ID_DOSEN) GROUP BY NAMA_DOSEN;
NAMA_DOSEN           JUMLAH_MAHASISWA
-------------------  ----------------
CAPT. HILMAWAN M.SC  1               
PROF DR KHUSNI JAFA  2               
PROF DR NURUL HIDAY  1               
PROF DR ZIDAN M.SC   2               
PROF SURYA SETIAWAN  3

/* 7. Urutkan Mahasiswa berdasarkan umurnya */
SELECT NIM, NAMA, ALAMAT, UMUR FROM MAHASISWA WHERE UMUR ORDER BY UMUR ASC;

/* <<< HASILNYA >>>
----------------------
sqlite> SELECT NIM, NAMA, ALAMAT, UMUR FROM MAHASISWA WHERE UMUR ORDER BY UMUR ASC;
NIM         NAMA               ALAMAT      UMUR      
----------  -----------------  ----------  ----------
1902        CRISTIANO RONALDO  PORTUGAL    17        
1901        LIONEL MESSI       ARGENTINA   18        
1904        MESUT OZIL         GERMANY     19        
1905        NEYMAR JUNIOR      BRAZIL      20        
1903        KAREEM BENZEMA     FRANCE      21   

/*8. Tampilkan kontrak matakuliah yang harus diulang (D dan E) serta tampilkan data mahasiswa jurusan dan dosen secara lengkap. gunakan JOIN da WHERE */

SELECT MAHASISWA.* , JURUSAN.*, DOSEN.* , MATAKULIAH.*, KONTRAK. NILAI FROM MAHASISWA, JURUSAN, DOSEN, KONTRAK, MATAKULIAH WHERE MAHASISWA.KODE_JURUSAN = JURUSAN.KODE_JURUSAN AND MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_DOSEN = DOSEN.ID_DOSEN AND KONTRAK.ID_MATAKULIAH = MATAKULIAH.ID_MATAKULIAH AND KONTRAK.NILAI > 'C';

/* <<< HASILNYA >>>
----------------------
sqlite> SELECT MAHASISWA.* , JURUSAN.*, DOSEN.* , MATAKULIAH.*, KONTRAK. NILAI FROM MAHASISWA, JURUSAN, DOSEN, KONTRAK, MATAKULIAH WHERE MAHASISWA.KODE_JURUSAN = JURUSAN.KODE_JURUSAN AND MAHASISWA.NIM = KONTRAK.NIM AND KONTRAK.ID_DOSEN = DOSEN.ID_DOSEN AND KONTRAK.ID_MATAKULIAH = MATAKULIAH.ID_MATAKULIAH AND KONTRAK.NILAI > 'C';
NIM         NAMA           ALAMAT      KODE_JURUSAN  UMUR        KODE_JURUSAN  NAMA_JURUSAN     ID_DOSEN    NAMA                ID_MATAKULIAH  NAMA_MATAKULIAH  SKS         NILAI     
----------  -------------  ----------  ------------  ----------  ------------  ---------------  ----------  ------------------  -------------  ---------------  ----------  ----------
1905        NEYMAR JUNIOR  BRAZIL      005           20          005           TEKNIK KOMPUTER  805         PROF DR ZIDAN M.SC  505            ALJABAR LINIER   2           D         
1904        MESUT OZIL     GERMANY     004           19          004           TEKNIK PENERBAN  805         PROF DR ZIDAN M.SC  506            TERMODINAMIKA    3           E  

-------------------------<<<<<FINISSSHHH>>>>>--------------------------------